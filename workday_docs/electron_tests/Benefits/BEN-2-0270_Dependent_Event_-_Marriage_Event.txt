================================================================================
TEST ID: BEN-2-0270
FUNCTIONAL AREA: Benefits
TEST NAME: Dependent Event - Marriage Event
CONFIDENCE: [HIGH] Score: 8.5/10
================================================================================

TASK/STEP: Change Benefits > Marriage Event (Add Spouse to Coverage)

DESCRIPTION:
Process a marriage life event to add new spouse as dependent on health,
dental, vision, and life insurance benefit plans. Updates coverage levels
from Employee Only to Employee+Spouse or Family.

PREREQUISITES:
- User logged in with Benefits Administrator or HR Partner role
- Test employee with active benefit elections
- Marriage event date and spouse information available
- Marriage certificate available for upload

ELECTRON STEPS:
1. enter search box as "Change Benefits"
2. wait for search results
3. click search result containing "Change Benefits"
4. wait for page to load
5. enter worker as "{test_employee_id}"
6. wait for worker profile to load
7. select benefit event type as "Life Event"
8. select life event reason as "Marriage"
9. enter event date as "{marriage_date}"
10. click button "Continue"
11. wait for benefits election page to load
12. scroll to dependents section
13. click button "Add Dependent"
14. enter dependent first name as "{spouse_first_name}"
15. enter dependent last name as "{spouse_last_name}"
16. enter date of birth as "{spouse_dob}"
17. select relationship as "Spouse"
18. enter social security number as "{spouse_ssn}"
19. select gender as "{spouse_gender}"
20. enter address as "{spouse_address}" if different
21. click button "Upload Document"
22. select file "{marriage_certificate_path}"
23. click button "Save Dependent"
24. verify new spouse appears in dependents list
25. click link "Medical" in benefits section
26. select coverage level as "Employee + Spouse"
27. verify spouse is included in coverage
28. verify updated premium displayed
29. click button "Elect"
30. click link "Dental" in benefits section
31. select coverage level as "Employee + Spouse"
32. verify spouse is included in coverage
33. click button "Elect"
34. click link "Vision" in benefits section
35. select coverage level as "Employee + Spouse"
36. verify spouse is included in coverage
37. click button "Elect"
38. scroll to life insurance section
39. click link "Spouse Life Insurance"
40. select coverage amount as "{spouse_life_amount}"
41. click button "Elect"
42. click link "Beneficiaries"
43. click button "Add Beneficiary"
44. select beneficiary as "{spouse_name}"
45. enter percentage as "100"
46. select type as "Primary"
47. click button "Save Beneficiary"
48. click button "Review and Submit"
49. wait for review page to load
50. verify spouse listed on all health plans
51. verify spouse life insurance elected
52. verify beneficiary designation updated
53. verify updated premium costs displayed
54. click button "Submit"
55. wait for confirmation
56. verify message contains "Benefits enrollment submitted successfully"
57. screenshot as "BEN-2-0270_complete.png"

POST-SUBMISSION VERIFICATION:
58. enter search box as "View Benefit Elections"
59. wait for search results
60. click search result containing "View Benefit Elections"
61. enter worker as "{test_employee_id}"
62. verify coverage level shows "Employee + Spouse"
63. verify spouse listed under covered dependents
64. verify beneficiary shows spouse as primary
65. screenshot as "BEN-2-0270_verification.png"

VERIFICATION:
- [ ] Marriage life event successfully initiated
- [ ] Spouse added to employee record
- [ ] Coverage levels updated to include spouse
- [ ] Medical plan includes spouse
- [ ] Dental plan includes spouse
- [ ] Vision plan includes spouse
- [ ] Spouse life insurance elected
- [ ] Beneficiary designation updated
- [ ] Premium costs recalculated
- [ ] No error messages displayed

EXPECTED RESULT:
Spouse added as dependent and enrolled in medical, dental, vision, and
spouse life insurance. Beneficiary designations updated. New ID cards issued.

NOTES:
- Marriage event has 31-day window for benefit changes
- Marriage certificate required for dependent verification
- ID cards typically arrive 2-3 weeks after effective date
- Consider updating beneficiaries on retirement plans too
- Source: [KB Benefits Enrollment, WSDL Analysis]

API ALTERNATIVE:
- SOAP: Put_Benefit_Election, Add_Dependent_Enrollment
- REST: /benefitsAdmin/v1/workers/{workerId}/benefitElections
================================================================================
