================================================================================
TEST ID: FACC-4-0140
FUNCTIONAL AREA: Accounting & Finance
TEST NAME: Create Multi Currency Accounting Journal
CONFIDENCE: [HIGH] Score: 7.5/10
SOURCE: [RAG - kb_finance_journal_entry.txt + Admin-Guide-Financial-Management.pdf]
================================================================================

DESCRIPTION:
Create a multi-currency accounting journal to record transactions in a
currency different from the company's base currency. The journal must
balance in both the transaction currency and the ledger (base) currency.

PREREQUISITES:
- User logged in with Accountant or Finance Manager role
- Multi-currency enabled for the company
- Currency exchange rates defined for the accounting date
- Target company has open accounting period

ELECTRON STEPS:
1. enter search box as "Create Accounting Journal"
2. wait for search results
3. click search result containing "Create Accounting Journal"
4. wait for page to load
5. select Company as "{test_company}"
6. enter Accounting Date as "{current_period_date}"
7. select Ledger Type as "Actuals"
8. select Currency as "{foreign_currency}"
9. select Journal Source as "Manual"
10. enter Memo as "Multi-currency journal - FACC-4-0140"
11. click button "Add"
12. wait for journal line section
13. click link "Add Journal Line"
14. enter Ledger Account as "{expense_account}"
15. enter Debit Amount as "{foreign_debit_amount}"
16. select Currency as "{foreign_currency}"
17. verify Ledger Amount shows converted value
18. select Cost Center as "{cost_center}"
19. enter Line Memo as "Foreign currency expense"
20. click button "OK"
21. click link "Add Journal Line"
22. enter Ledger Account as "{liability_account}"
23. enter Credit Amount as "{foreign_credit_amount}"
24. select Currency as "{foreign_currency}"
25. verify Ledger Amount shows converted value
26. select Cost Center as "{cost_center}"
27. enter Line Memo as "Foreign currency liability"
28. click button "OK"
29. verify journal shows "In Balance" for transaction currency
30. verify journal shows "In Balance" for ledger currency
31. click button "Submit"
32. wait for confirmation
33. verify message contains "submitted"
34. screenshot as "FACC-4-0140_complete.png"

VERIFICATION:
- [ ] Multi-currency journal created successfully
- [ ] Balanced in transaction currency
- [ ] Balanced in ledger (base) currency
- [ ] Exchange rate applied correctly
- [ ] Journal routed for approval
- [ ] No error messages displayed

API ALTERNATIVE:
- SOAP: Submit_Accounting_Journal (Financial_Management WSDL)
- Multi-currency requires Currency_Reference and proper exchange rates
================================================================================
